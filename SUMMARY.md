# Elenya Bot ‚Äî –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Telegram-–±–æ—Ç–∞:

```
elf_lang/
‚îú‚îÄ‚îÄ bot.py                      # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª (—Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞)
‚îú‚îÄ‚îÄ config.py                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∞ .env
‚îú‚îÄ‚îÄ requirements.txt            # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ handlers/                   # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ start.py               # /start, /mode, inline –∫–Ω–æ–ø–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ text.py                # –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ voice.py               # –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (STT)
‚îÇ   ‚îî‚îÄ‚îÄ image.py               # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (Vision)
‚îÇ
‚îú‚îÄ‚îÄ services/                   # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ router.py              # –†–æ—É—Ç–µ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ OpenAI
‚îÇ   ‚îî‚îÄ‚îÄ mode_manager.py        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞–º–∏ —Ä–∞–±–æ—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ utils/                      # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ stt.py                 # Speech-to-Text (Whisper)
‚îÇ   ‚îî‚îÄ‚îÄ vision.py              # –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (GPT-4 Vision)
‚îÇ
‚îî‚îÄ‚îÄ rag/                        # RAG —Å–∏—Å—Ç–µ–º–∞
    ‚îú‚îÄ‚îÄ loader.py              # –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ª–æ–≤–∞—Ä—è –≤ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –ë–î
    ‚îî‚îÄ‚îÄ query.py               # –ü–æ–∏—Å–∫ –≤ —Å–ª–æ–≤–∞—Ä–µ
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **–ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–π –≤–≤–æ–¥:**
- –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Whisper)
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ Vision)

‚úÖ **–î–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã:**
- –†–µ–∂–∏–º —Å–ª–æ–≤–∞—Ä—è Elenya (RAG)
- –°–≤–æ–±–æ–¥–Ω—ã–π —Ä–µ–∂–∏–º (–±–µ–∑ —Å–ª–æ–≤–∞—Ä—è)

‚úÖ **RAG-—Å–∏—Å—Ç–µ–º–∞:**
- –ó–∞–≥—Ä—É–∑–∫–∞ PDF-—Å–ª–æ–≤–∞—Ä—è
- –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ (ChromaDB)
- –ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã

‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
- Inline –∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞
- –ö–æ–º–∞–Ω–¥—ã /start –∏ /mode
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ

‚úÖ **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥:**
```
Elenya: <—Å–ª–æ–≤–æ>
–ü–µ—Ä–µ–≤–æ–¥: <–ø–µ—Ä–µ–≤–æ–¥>
–ü–æ—è—Å–Ω–µ–Ω–∏–µ: <–ø–æ—è—Å–Ω–µ–Ω–∏–µ>
```

‚úÖ **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:**
- –ï—Å–ª–∏ —Å–ª–æ–≤–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ —Å–ª–æ–≤–∞—Ä–µ ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.10+**
- **python-telegram-bot 21.0** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å Telegram API
- **OpenAI API:**
  - GPT-4-turbo –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
  - Whisper –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏
  - Vision –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **LangChain** ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è RAG
- **ChromaDB** ‚Äî –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **PyPDF2** ‚Äî —á—Ç–µ–Ω–∏–µ PDF

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `.env` —Å–æ–¥–µ—Ä–∂–∏—Ç:

```env
TELEGRAM_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
OPENAI_API_KEY=–≤–∞—à_–∫–ª—é—á_api
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
python test_setup.py
```

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
python bot.py
```

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –±–æ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç —Å–ª–æ–≤–∞—Ä—å –≤ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –ë–î (10-20 —Å–µ–∫).

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **README.md** ‚Äî –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- **QUICKSTART.md** ‚Äî –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É
- **SUMMARY.md** ‚Äî —ç—Ç–∞ —Å–≤–æ–¥–∫–∞

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –¢–µ–∫—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –∑–≤–µ–∑–¥–∞
–ë–æ—Ç:
Elenya: elen
–ü–µ—Ä–µ–≤–æ–¥: –∑–≤–µ–∑–¥–∞
–ü–æ—è—Å–Ω–µ–Ω–∏–µ: –ó–≤–µ–∑–¥–∞ –Ω–∞ –Ω–æ—á–Ω–æ–º –Ω–µ–±–µ
```

### –ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: [–≥–æ–ª–æ—Å–æ–≤–æ–µ "–ø—Ä–∏–≤–µ—Ç"]
–ë–æ—Ç:
üìù –†–∞—Å–ø–æ–∑–Ω–∞–Ω–æ: –ø—Ä–∏–≤–µ—Ç

Elenya: sela
–ü–µ—Ä–µ–≤–æ–¥: –ø—Ä–∏–≤–µ—Ç
–ü–æ—è—Å–Ω–µ–Ω–∏–µ: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ, –¥—Ä—É–∂–µ—Å–∫–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ
```

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: [—Ñ–æ—Ç–æ –¥–µ—Ä–µ–≤–∞]
–ë–æ—Ç:
üëÅ –ù–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏: –¥–µ—Ä–µ–≤–æ

Elenya: silva
–ü–µ—Ä–µ–≤–æ–¥: –ª–µ—Å
–ü–æ—è—Å–Ω–µ–Ω–∏–µ: silva –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –ª–µ—Å –∏–ª–∏ –≥—Ä—É–ø–ø—É –¥–µ—Ä–µ–≤—å–µ–≤
```

## üîß –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–¥–ª—è –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏–π)

1. **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ä–µ–∂–∏–º–æ–≤** ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞ –≤ –ë–î
2. **–ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤** ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞** ‚Äî —Ä–∞–∑–±–æ—Ä —Å–ª–æ–∂–Ω—ã—Ö —Ñ—Ä–∞–∑
4. **–¢–µ—Å—Ç—ã** ‚Äî unit –∏ integration —Ç–µ—Å—Ç—ã
5. **Docker** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
6. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª
7. **–ú–µ—Ç—Ä–∏–∫–∏** ‚Äî —Å–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
8. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –∫—ç—à —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## üìù –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### RAG Pipeline
1. PDF ‚Üí —á–∞–Ω–∫–∏ (500 —Å–∏–º–≤–æ–ª–æ–≤, overlap 50)
2. –ß–∞–Ω–∫–∏ ‚Üí –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ (OpenAI)
3. –≠–º–±–µ–¥–¥–∏–Ω–≥–∏ ‚Üí ChromaDB
4. –ó–∞–ø—Ä–æ—Å ‚Üí –ø–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö —á–∞–Ω–∫–æ–≤
5. –ß–∞–Ω–∫–∏ + –∑–∞–ø—Ä–æ—Å ‚Üí GPT-4 ‚Üí –æ—Ç–≤–µ—Ç

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–∞
1. Telegram Voice ‚Üí OGG —Ñ–∞–π–ª
2. –ó–∞–≥—Ä—É–∑–∫–∞ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É
3. Whisper API ‚Üí —Ç–µ–∫—Å—Ç
4. –£–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
5. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–∫ —Ç–µ–∫—Å—Ç

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
1. Telegram Photo ‚Üí JPG —Ñ–∞–π–ª
2. –ó–∞–≥—Ä—É–∑–∫–∞ –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É
3. Vision API ‚Üí –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
4. –£–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
5. –ü–æ–∏—Å–∫ –ø–µ—Ä–µ–≤–æ–¥–∞ –æ–±—ä–µ–∫—Ç–∞

## üéì –î–ª—è –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:

‚úÖ –†–∞–±–æ—Ç—É —Å –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–º–∏ AI –º–æ–¥–µ–ª—è–º–∏ (LLM, STT, Vision)
‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—é RAG-—Å–∏—Å—Ç–µ–º—ã
‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É Telegram-–±–æ—Ç–∞
‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å OpenAI API
‚úÖ –ú–æ–¥—É–ª—å–Ω—ã–π –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π –∫–æ–¥
‚úÖ –†–∞–±–æ—Ç—É —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º–∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
‚úÖ –û–±—Ä–∞–±–æ—Ç–∫—É —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

---

## ‚ùì –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ **QUICKSTART.md** –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python test_setup.py` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ —Ç–æ–∫–µ–Ω—ã –≤ `.env` –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ

---

‚ú® **Lume via an tu!** (–°–≤–µ—Ç–ª–æ–≥–æ –ø—É—Ç–∏ —Ç–µ–±–µ!)

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ.
